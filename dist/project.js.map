{"version":3,"sources":["../src/project.js"],"names":["CONFIG_FILENAME","Project","basePath","process","cwd","path","FS","exists","Path","join","dirname","configPath","rootPath","config","require","_","each","value","key"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;AAEA,IAAMA,mCAAN;;IAEqBC,O;;;;;;;;;;;YACDC,Q,uEAAWC,QAAQC,GAAR,E;;;;;;AACvBC,oB,GAAOH,Q;;;;uBACII,oBAAGC,MAAH,CAAUC,eAAKC,IAAL,CAAUJ,IAAV,EAAgBL,eAAhB,CAAV,C;;;;;;;;;;8BAAgDK,QAAQ,G;;;;;;;;AACrEA,uBAAOG,eAAKE,OAAL,CAAaL,IAAb,CAAP;;;;;AAEIM,0B,GAAaH,eAAKC,IAAL,CAAUJ,IAAV,EAAgBL,eAAhB,C;;AACnB,qBAAKY,QAAL,GAAgBP,IAAhB;AACA,qBAAKM,UAAL,GAAkBA,UAAlB;AACME,sB,GAASC,QAAQH,UAAR,C;;AACfI,iCAAEC,IAAF,CAAOH,MAAP,EAAe,UAACI,KAAD,EAAQC,GAAR,EAAc;AAC3B,wBAAKA,GAAL,IAAYD,KAAZ;AACD,iBAFD;;;;;;;;;;;;;;;;;;;;;kBAViBhB,O","file":"project.js","sourcesContent":["import _ from 'lodash';\nimport FS from 'async-file';\nimport Path from 'path';\n\nconst CONFIG_FILENAME = `s3rig.config.js`;\n\nexport default class Project {\n  static async load(basePath = process.cwd()) {\n    let path = basePath;\n    while (!(await FS.exists(Path.join(path, CONFIG_FILENAME))) && path != \"/\") {\n      path = Path.dirname(path);\n    }\n    const configPath = Path.join(path, CONFIG_FILENAME);\n    this.rootPath = path;\n    this.configPath = configPath;\n    const config = require(configPath);\n    _.each(config, (value, key)=>{\n      this[key] = value;\n    });\n  }\n}"]}